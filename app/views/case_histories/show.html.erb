<!-- <header class="menu">
  <div style="display: block;">
    <nav>
      <a href="http://enbage.it/" style="margin-top: 13px; display: inline-block; margin-bottom: 13px;">
        <%= image_tag "enbage_logo.png" %> -->
        <!-- <img src="/assets/logo.jpg" /> -->
      <!-- </a>
      <ul style="float: right; list-style: none;">
        <li>
          <%= link_to 'Edit', edit_case_history_path(@case_history) %>
          <a href="/case_histories">Back</a>
          <a href="#mission"class="anchor">Mission</a>
          <a href="#solution"class="anchor">Solution</a>
          <a href="#result"class="anchor">Result</a></li>
      </ul>
    </nav>
  </div>
</header>  -->
<div class="row"style="margin-top: 20px;">
  <div class="col-sm-12 div0" style="height: 500px;background-image: url(/assets/<%= @case_history.background_image %>1.jpg);">
<!-- <div class="div0" style="margin-top: 105px;height: 500px;position: relative; background-image: url(/assets/<%= @case_history.background_image %>);"> -->
    <a name="inizio"></a>
    <div class="row" style="position: absolute;bottom: 0px;">
      <div class="col-xs-8 col-lg-offset-1"style="max-width: 300px;min-width: 200px;">
        <img alt="Logo" src="/assets/<%= @case_history.background_logo %>" >
      </div>
    </div>  
  </div>
</div>


<div class="row title" style="background-color: <%= @case_history.background_title%>">
  <div class="div">
    <h1 id="h1" style="color: <%= @case_history.title_text_color%>">
      <%= @case_history.title %>
    </h1>
  </div>
</div>
<div class="row divMission" id="descrizione" style="background-color: <%= @case_history.background_mission %>">
  <a name="mission"></a> 
  <div class=" col-md-8 col-md-offset-2 div show">
    <h1 id="h1" style="color: <%= @case_history.mission_text_color%>">
      <%= @case_history.mission_title %> 
    </h1>
    <h2 class="description" style="color: <%= @case_history.mission_text_color%>">
      <%= @case_history.mission_description %>
    </h2>
    <a id="mission" href="#solution" class="anchor">
      <img alt="giu"src="/assets/frecciagiu.png" style="max-width: 50px;">
    </a>
  </div>
</div>
  
<div class="row divSolution" id="descrizione" style="background-color: <%= @case_history.background_solution %>">
  <a name="solution"></a> 
    <div class=" col-md-8 col-md-offset-2 show">     
      <h1 id="h1" style="color: <%= @case_history.solution_text_color%>">
        <%= @case_history.solution_title %> 
      </h1>
      <h2 class="description" style="color: <%= @case_history.solution_text_color%>">
        <%= @case_history.solution_description %>
      </h2>
      <a href="#result"class="anchor">
        <img alt="giu" src="/assets/frecciagiu.png" style="max-width: 50px;">
      </a>
  </div>  
</div>

<div class="row divreRsult" id="descrizione" style="background-color: <%= @case_history.background_result %>">
  <a name="result"></a>
  <div class="col-md-8 col-md-offset-2 div show">
    
    <h1 id="h1" style="color: <%= @case_history.result_text_color%>">
      <%= @case_history.result_title %>
    </h1>
    <h2 class="description" style="color: <%= @case_history.result_text_color%>">
      <%= @case_history.result_description %>
    </h2> 
    <a href="#inizio"class="anchor">
      <img alt="su" src="/assets/frecciasu.png" style="max-width: 50px;"></a>  
  </div>
</div>
<div class="row grafico" id="descrizione" style="background-color: white">
  <div style="margin: 1em">
    <h1 id="h1" style="color: <%= @case_history.result_text_color%>">
      I nostri numeri
    </h1>
    <img alt="grafici" src="/assets/grafico1.png">
    <img alt="grafici" src="/assets/grafico2.png">
  </div>
</div>




<script type="text/javascript">
  // $("#mission").click(function(e){
  //   e.preventDefault();
  //   var solution = $("a[name='solution']");
  //   $("html, body").animate({ scrollTop: solution.offset().top }, 600);
  // });

  // $("a[href='#result']").click(function(e){
  //   e.preventDefault();

  //   var result = $("a[name='result']");
  //   $("html, body").animate({ scrollTop: result.offset().top }, 600);
  // });

  // $("a[href='#inizio']").click(function(e){
  //   e.preventDefault();
  //   var inizio = $("a[name='inizio']");
  //   $("html, body").animate({ scrollTop: inizio.offset().top }, 600);
  // });

  $("a.anchor").click(function(e){
    e.preventDefault();
    var destination = $(this).attr("href");    
    var inizio = $("a[name='" + destination.substring(1) + "']");
    $("html, body").animate({ scrollTop: (inizio.offset().top) -70 }, 600);
  });

//   $(function(){
//   $(window).scroll(function(){
//     var aTop = $(id='menu_mission').height();
//     if($(this).scrollTop()>=aTop){
//         alert('mission');
//     }
//   });
// });
// evidenzia nel menu la sezione un cui ci si trova
  $(function(){
    $(window).scroll(function(e){
      var aTop = ($('.divMission').offset().top) - 300;
      var aTop1 = ($('.divSolution').offset().top) - 300;
      var aTop2 = ($('.divreRsult').offset().top) - 300;
      // console.log("aTop" + aTop + " and scrollTop " + $(this).scrollTop() )
      
      $("a.anchor[href='#mission']").removeClass("active");
      $("a.anchor[href='#solution']").removeClass("active")
      $("a.anchor[href='#result']").removeClass("active")
      if($(this).scrollTop()>=aTop && $(this).scrollTop()<=aTop1){
        $("a.anchor[href='#solution']").removeClass("active")
        $("a.anchor[href='#result']").removeClass("active")
        $("a.anchor[href='#mission']").addClass("active");
        console.log("mission");        
      }
      if($(this).scrollTop()>=aTop1 && $(this).scrollTop()<=aTop2){
        $("a.anchor[href='#mission']").removeClass("active");
        $("a.anchor[href='#result']").removeClass("active")
        $("a.anchor[href='#solution']").addClass("active");
        console.log("solution");        
      }
      if($(this).scrollTop()>=aTop2){
        $("a.anchor[href='#mission']").removeClass("active");
        $("a.anchor[href='#solution']").removeClass("active");
        $("a.anchor[href='#result']").addClass("active");
        console.log("result");        
      }
    });
  });;
  // $(function(){
  //   $(window).scroll(function(e){
  //     var aTop1 = $('.divSolution').offset().top;
  //     // console.log("aTop" + aTop + " and scrollTop " + $(this).scrollTop() )
  //     if($(this).scrollTop()>=aTop1){
  //       $('.divSolution a').attr("name");   
  //       console.log("solution");
  //     }
  //   });
  // });;
  // $(function(){
  //   $(window).scroll(function(e){
  //     var aTop2 = $('divreRsult').offset().top;
  //     // console.log("aTop" + aTop + " and scrollTop " + $(this).scrollTop() )
  //     if($(this).scrollTop()>=aTop2){
  //       $('divreRsult a').attr("name");  
  //       console.log("result"); 
  //     }
  //   });
  // });;

</script>
